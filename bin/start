#!/bin/bash
target_dir=""
if [[ $# -ne 0 ]]; then
  echo "Usage: $0"
  target_dir=$1
  echo "This script starts the exercises in the current module."
fi

echo "üöÄ Starting the exercises ..."
export TOP_DIR="$(dirname "$(realpath "$0")")"
if [[ ! -z "$target_dir" ]]; then
    cd $(dirname "$TOP_DIR")/missions/"$target_dir"
fi
source "$TOP_DIR/environment.sh"
if [[ ${BASE_DIR} != *module* ]]; then
  echo "‚ùå This script must be run in a module directory."
  echo "Please navigate to a module directory and try again."
  echo $(ls -1 ${BASE_DIR})
  exit 1
fi
run_lecture
